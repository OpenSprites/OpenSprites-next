/**
 * css/resources.styl
 * ------------------
 * 
 * For .resource and .resources elements.
 */

.resources {
  display flex
  
  .center & {
    align-content center
    justify-content center
    text-align left
  }
  
  flex-flow row wrap
  align-items center

  padding 8px 0
  
  a {
    border-bottom 0
  }
  
  user-select none
  cursor default
}

.resource {
  border-radius 3px
  border 1px solid #e2e1e0
  
  display inline-block
  
  flex-grow 0
  flex-shrink 0
  overflow hidden
  
  margin 7px
  
  width 240px
  
  input[type=checkbox] {
    display none
  }
  
  .when {
    display none
  }
  
  > a.to {
    display block
    
    width 240px

    .img, .audio {
      position relative
      width 240px
      height 240px
      
      margin-bottom 12px
      display block
      
      &.img {
        background-repeat repeat
        background-image url('/assets/img/tile.png')
      }
      
      img {
        display block
        margin auto
        
        max-width 100%
        max-height 100%
        
        position absolute
        top 50%
        left 50%
        transform translate(-50%, -50%)
      }
      
      &.audio .play {
        width 96px
        height 96px
        
        color white
        background rgba(black, 0.3)
        
        font-size 56px
        line-height 96px
        text-align center
        
        position absolute
        left 50%
        top 50%
        transform translate(-50%, -50%)
        
        border-radius 50%
        display none
      }
      
      &:hover .play {
        display block
      }
      
      &.play .play {
        display block
      }
      
      &:not(.audio) .play {
        display none
      }
    }
  }

  h4, input[name=name] {
    @extend h4

    margin-top 0
    white-space nowrap
    overflow: hidden
    text-overflow ellipsis
    padding-left 16px
    
    color os-grey
  }
  
  span {
    display block
    margin 16px
    margin-bottom 4px
  }
  
  small {
    float right
    margin 16px
    margin-top 4px
    color tint(os-grey, 50%)
  }
}

.audio-thumb-container {
  position: relative
}

@keyframes rotating {
  from {
    transform: translateY(-50%) translateX(-50%) rotate(0deg);
  }
  to {
    transform: translateY(-50%) translateX(-50%) rotate(360deg);
  }
}

.audio-thumb-container .loader {
  width: 100px
  height: 100px
  position: absolute
  top: 50%
  left: 50%
  animation: rotating 2s linear infinite
}

.audio-thumb-container {
  transition: all 0.2s
  opacity: 1
  z-index: 3
  img {
    border-radius: 1em
  }
}

.audio-thumb-container.fade-out {
  opacity: 0
}

.copy-url-label {
  display flex
  span {
    margin-top 0.5em
  }
}

input[type=text].resource-copy-url {
  flex 1
  font-family: 'Lato',sans-serif;
  font-weight: 400;
  font-size: 1em;
  line-height: 1.5;
  border: 1px solid os;
  margin: 0.5em;
  border-radius: 3px;
  box-sizing border-box
}